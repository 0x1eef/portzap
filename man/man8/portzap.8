.Dd May 2023
.Dt PORTZAP 8
.Os
.Sh NAME
.Nm portzap
.Nd manages a copy of the HardenedBSD ports tree
.Sh SYNOPSIS
.Nm portzap setup
.Nm portzap teardown
.Nm portzap clone
.Nm portzap pull
.Nm portzap checkout
.Nm portzap install
.Nm portzap rm
.Sh DESCRIPTION
.Nm portzap
manages a copy of the HardenedBSD ports tree.
The copy of the ports tree is maintained by members of
the '_portzap' group, and the copy of the ports tree
can be installed into /usr/ports/ by root.
.Sh SETUP
.sp
.sp
.Nm portzap setup
.br
Setup portzap for the first time
.br
This command requires root privileges
.Pp
.Nm portzap teardown
.br
Reverse the changes made by 'portzap setup'
.br
This command requires root privileges
.Pp
.Sh GENERAL
.sp
.sp
.Nm portzap clone
.br
Clone the HardenedBSD ports tree into /home/_portzap/ports/
.br
This command is delegated to the '_portzap' user and
limited to members of the '_portzap' group
.Pp
.Nm portzap pull
.br
Pull updates into /home/_portzap/ports/
.br
This command is delegated to the '_portzap' user and
limited to members of the '_portzap' group
.br
.Pp
.Nm portzap checkout
.br
Checkout a branch other than the default: hardenedbsd/main
.br
This command is delegated to the '_portzap' user and
limited to members of the '_portzap' group
.Pp
.Nm portzap sh
.br
Run /bin/sh within /home/_portzap/ports/
.br
This command is delegated to the '_portzap' user and
limited to members of the '_portzap' group
.Pp
.Nm portzap rm
.br
Remove the contents of /usr/ports/ and /home/_portzap/ports/
.br
This command requires root privileges
.Pp
.Nm portzap install
.br
Install /home/_portzap/ports/ into /usr/ports/
.br
This command requires root privileges
.br
.Sh ENVIRONMENT
.sp
.sp
.Nm PORTZAP_CLONEURL
.br
The URL of a git repository
.br
Default: https://github.com/HardenedBSD/ports
.sp
.Nm PORTZAP_INSTALLDIR
.br
The directory where the ports collection will be installed
.br
Default: /usr/ports/
.sp
.Sh AUTHORS
The
.Nm portzap
utility and this manual page were written by
0x1eef <0x1eef@protonmail.com>.
