# -*- mode: org -*-

* vNEXT

**** Format log messages with program name
This change formats log messages written to standard output
and standard error with the pattern ~portzap: <message>~

**** Fix typo in ~commands/portzap-setup~
This change fixes a typo that would throw an error when
running the ~portzap setup~ command

**** Replace chmod with -M switch
This change replaces chmod with the -M switch. The -M switch
is given to the ~pw useradd~ command in the ~setup-user~
script

* v1.2.0

**** Change default clone url
After this change, the default clone URL points at
the GitHub mirror: https://github.com/hardenedbsd/ports

This change was made because clone and pull operations
from ~git.hardenedbsd.org~ are not always stable, especially
with big repositories like the ports collection

The default can be changed through the environment variable
~$PORTZAP_CLONEURL~, or by modifying the ~origin~ remote
after a successful clone

**** Fix ~libexec/portzap/scripts/setup-doas~ bug
This change fixes a bug in ~setup-doas~ that could hang
the ~portzap setup~ command

**** Collapse ~libexec/portzap/scripts~
This change does not try to organize script directories that
go beyond ~libexec/portzap/scripts~

**** Add ~libexec/portzap/scripts/setup~
This new directory replaces what was formerly known
as ~libexec/portzap/setup~

**** Add ~libexec/portzap/scripts~
This new directory replaces what was formerly known
as ~libexec/portzap/utils~

* v1.1.0

**** Add ~libexec/portzap/utils/get-umask~
Add a single source of truth for the mask given to umask
by git and portzap-install

**** Break up ~portzap-install~ into multiple files
~libexec/portzap/utils/install/~ contains files that cover both
a fresh install and applying an update

**** Add ~setup/setup-doas~ improvements
More likely to do what's expected, but blind spots still exist

**** Add ~portzap setup~, ~portzap teardown~
Replaces and enhances 'setup-portzap'

**** Add ~libexec/portzap/commands/portzap-sh~
Runs ~/bin/sh~ within ~/home/_portzap/ports~ as the ~_portzap~ user

* v1.0.0

**** Add ~libexec/portzap/setup/setup-user~
~setup-user~ sets up the ~portzap~ user and environment

**** Remove git-diff limit
Remove file rename limit from git-diff

**** Replace ~utils/gitexec~ with ~utils/git/run~
Communicate with git via ~utils/git/run~

**** Add ~utils/git~
A dedicated directory for git-related scripts

**** Remove ~set -x~
Emit less output

**** Remove scripts
Remove ~utils/printok~, ~utils/printerr~, ~utils/git-rev~
