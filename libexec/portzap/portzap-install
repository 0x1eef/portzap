#!/bin/sh -e

##
# variables
gitdir=$1
installdir=$2
excludes=".git .gitignore .hooks .arcconfig"

##
# main
cd "${gitdir}"
find -s . -maxdepth 1 \
    -exec cp -Rfv {} "${installdir}" \; \
    -exec chown -R root:_portzap "${installdir}/{}" \; \
    -exec chmod -R u=rwX,g=rwX,o= "${installdir}/{}" \;
cd "${installdir}"
for exclude in ${excludes}; do
    rm -rf "${exclude}"
done
